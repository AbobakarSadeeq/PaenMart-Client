<app-admin-header></app-admin-header>

<!-- this div is compulsary so, every admin component should have this -->
<div [style]='getStyleFromNav'>

  <div class="container-fluid">
    <div class="row" style="background-color:#FFCC66 ; padding-top:10px; ">

      <h1>Dashboard</h1>


      <div class="col-xl-3 col-lg-6">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Current Account Balance</h5>
                <span class="h2 font-weight-bold mb-0">{{dashboardDetails?.currentAccountBalanceOfAdmin | currency: 'Rs
                  ':
                  'symbol':'1.0'}}</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                  <i class="fas fa-chart-bar"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-success mr-2"><i class="fa fa-arrow-up"></i> 3.48%</span>
                      <span class="text-nowrap">Since last month</span> -->
            </p>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-lg-6">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Total Products Worth</h5>
                <span class="h2 font-weight-bold mb-0">{{dashboardDetails?.productsWorth | currency: 'Rs ':
                  'symbol':'1.0'}}</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
                  <i class="fas fa-chart-pie"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-danger mr-2"><i class="fas fa-arrow-down"></i> 3.48%</span>
                      <span class="text-nowrap">Since last week</span> -->
            </p>
          </div>
        </div>
      </div>


      <div class="col-xl-3 col-lg-6">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Total Users</h5>
                <span class="h2 font-weight-bold mb-0">{{dashboardDetails?.totalUsersRegistered}}</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-yellow text-white rounded-circle shadow">
                  <i class="fas fa-users"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-warning mr-2"><i class="fas fa-arrow-down"></i> 1.10%</span>
                      <span class="text-nowrap">Since yesterday</span> -->
            </p>
          </div>
        </div>
      </div>


      <div class="col-xl-3 col-lg-6" style="padding-bottom: 1rem;">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Total Shipped Orders</h5>
                <span class="h2 font-weight-bold mb-0">{{dashboardDetails?.shippedOrdersCount}}</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                  <i class="fas fa-percent"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                      <span class="text-nowrap">Since last month</span> -->
            </p>
          </div>
        </div>
      </div><br>

      <div class="col-xl-3 col-lg-6">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Total Pending Orders</h5>
                <span class="h2 font-weight-bold mb-0">{{dashboardDetails?.ordersPendingCount}}</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                  <i class="fas fa-percent"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                      <span class="text-nowrap">Since last month</span> -->
            </p>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-lg-6">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Product stock availability</h5>
                <span class="h2 font-weight-bold mb-0">{{dashboardDetails?.productInStockCount}}</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                  <i class="fas fa-percent"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                      <span class="text-nowrap">Since last month</span> -->
            </p>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-lg-6">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Owner</h5>
                <span class="h2 font-weight-bold mb-0">{{userDetails?.fullName}}</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                  <i class="fas fa-percent"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                      <span class="text-nowrap">Since last month</span> -->
            </p>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-lg-6">
        <div class="card card-stats mb-4 mb-xl-0">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Role</h5>
                <span class="h2 font-weight-bold mb-0">Admin</span>
              </div>
              <div class="col-auto">
                <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                  <i class="fas fa-percent"></i>
                </div>
              </div>
            </div>
            <p class="mt-3 mb-0 text-muted text-sm">
              <!-- <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                      <span class="text-nowrap">Since last month</span> -->
            </p>
          </div>
        </div>
      </div>



      <!-- Chart -->
      <div id="chart" style="margin-right:10px;">
        <br><br>
        <apx-chart [series]="chartOptions?.series" [chart]="chartOptions?.chart" [dataLabels]="chartOptions?.dataLabels"
          [plotOptions]="chartOptions?.plotOptions" [yaxis]="chartOptions?.yaxis" [xaxis]="chartOptions?.xaxis"
          [fill]="chartOptions?.fill" [title]="chartOptions?.title"></apx-chart>
      </div>

    </div>


    <!-- Shipped Table Data -->
    <br>
    <div class="row">
      <div class="col-12" style="background-color:#2A5B84; height: 500px;">
        <h1 style="color: white;">Shipped Orders:</h1>
        <p style="color: white;">Last 5 Orders</p>
        <p-table [value]="lastFiveShippedData" [alwaysShowPaginator]="false" [paginator]="false" [rows]="10"
          [showCurrentPageReport]="true" responsiveLayout="scroll"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          [rowsPerPageOptions]="[10,25,50]">
          <ng-template pTemplate="header">
            <tr>
              <th>Order-Number</th>
              <th>Order-Date</th>
              <th>Shippment-Done-Date</th>
              <th>Order-Status</th>
              <th>Payment-Method</th>
              <th>Shipper-Id</th>

            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-penddingOrders>
            <tr>
              <td>{{penddingOrders?.orderID}}</td>
              <td>{{penddingOrders?.orderDate | date:'full'}}</td>
              <td>{{penddingOrders?.orderDate | date:'full'}}</td>
              <td>
                <p style="background-color: #61f04e; width: 103px;border-radius: 6px; text-align: center;">
                  {{penddingOrders?.orderStatus}}
                </p>
              </td>
              <td>{{penddingOrders?.paymentMethod}}</td>
              <td>{{penddingOrders?.shipperId}}</td>
            </tr>
          </ng-template>

        </p-table>
      </div>
    </div>






  </div>
</div>
